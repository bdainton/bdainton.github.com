import{S as D,i as L,s as E,e as _,b as M,A as h,h as p,G as I,k as v,q as d,a as T,l as k,m as x,r as u,c as S,n as y,F as o,u as V}from"./index-ef4f97a1.js";import{l as Y}from"./stores-539ba802.js";import{v as $}from"./LicenseKeyValidator-a2195445.js";import{d as b}from"./dayjs.min-8a28323c.js";function A(l){let a,e,t,s=b(l[0].expiresAt).format("MMMM D, YYYY")+"",n,r,f;return{c(){a=v("div"),e=v("p"),t=d("Your license is active until "),n=d(s),r=d(". Thank you!"),f=T(),this.h()},l(i){a=k(i,"DIV",{class:!0});var c=x(a);e=k(c,"P",{class:!0});var m=x(e);t=u(m,"Your license is active until "),n=u(m,s),r=u(m,". Thank you!"),m.forEach(p),f=S(c),c.forEach(p),this.h()},h(){y(e,"class","text-xs rounded text-lightGray"),y(a,"class","flex flex-col text-center p-4 mt-2 -mb-16 ")},m(i,c){M(i,a,c),o(a,e),o(e,t),o(e,n),o(e,r),o(a,f)},p(i,c){c&1&&s!==(s=b(i[0].expiresAt).format("MMMM D, YYYY")+"")&&V(n,s)},d(i){i&&p(a)}}}function q(l){let a,e=l[0].active&&A(l);return{c(){e&&e.c(),a=_()},l(t){e&&e.l(t),a=_()},m(t,s){e&&e.m(t,s),M(t,a,s)},p(t,[s]){t[0].active?e?e.p(t,s):(e=A(t),e.c(),e.m(a.parentNode,a)):e&&(e.d(1),e=null)},i:h,o:h,d(t){e&&e.d(t),t&&p(a)}}}function C(l,a,e){let t;I(l,Y,i=>e(0,t=i));let s={key:null,active:!1,expired:!1,expiresAt:null,lastCheckedAtTimestamp:null};function n(){localStorage.removeItem("license"),Y.set(s)}const r=15*60*1e3;return t.active&&Date.now()-t.lastValidatedAtTimestamp>r&&$(t.key),[t,n,()=>n()]}class g extends D{constructor(a){super(),L(this,a,C,q,E,{})}}export{g as L};
