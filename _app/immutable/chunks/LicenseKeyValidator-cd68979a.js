import{a as l,b as r,l as d}from"./stores-30333360.js";let s=null;const m=function(i){l.set(!0),r.set(null),s=null,i=i.trim();var o="https://api.verkout.com/license_keys/"+i+"/use",a={method:"PUT",headers:{"Content-Type":"application/json"}};fetch(o,a).then(e=>e.json()).then(e=>{if(e.errors){var t=e.errors[0];s=t.detail,t.expiredAt?s=s+" It expired on "+dayjs(t.expiredAt).format("dddd, MMMM D, YYYY h:mm A")+".":t.revokedAt&&(s=s+" It was revoked on "+dayjs(t.revokedAt).format("dddd, MMMM D, YYYY h:mm A")+"."),r.set(s),l.set(!1)}else if(e.license){l.set(!1);let n={key:e.license.key,firstUsedAt:e.license.firstUsedAt,expiresAt:e.license.expiresAt,lastValidatedAtTimestamp:e.meta.serverTime,active:!0};d.set(n),localStorage.setItem("license",JSON.stringify(n))}})};export{m as v};
