import{S as E,i as L,s as g,e as $,b as d,A as v,h as m,G as w,k as h,q as p,a as I,l as y,m as k,r as _,c as T,n as Y,F as f,u as C,B as S,v as V,w as q,x as G,C as K,D as P,E as R,f as b,t as x,y as j}from"../../../../chunks/index-ef4f97a1.js";import{l as A}from"../../../../chunks/stores-539ba802.js";import{v as B}from"../../../../chunks/LicenseKeyValidator-a2195445.js";import{d as M}from"../../../../chunks/dayjs.min-8a28323c.js";function D(i){let a,e,t,n=M(i[0].expiresAt).format("MMMM D, YYYY")+"",l,s,o;return{c(){a=h("div"),e=h("p"),t=p("Your license is active until "),l=p(n),s=p(". Thank you!"),o=I(),this.h()},l(r){a=y(r,"DIV",{class:!0});var c=k(a);e=y(c,"P",{class:!0});var u=k(e);t=_(u,"Your license is active until "),l=_(u,n),s=_(u,". Thank you!"),u.forEach(m),o=T(c),c.forEach(m),this.h()},h(){Y(e,"class","text-xs rounded text-lightGray"),Y(a,"class","flex flex-col text-center p-4 mt-2 -mb-16 ")},m(r,c){d(r,a,c),f(a,e),f(e,t),f(e,l),f(e,s),f(a,o)},p(r,c){c&1&&n!==(n=M(r[0].expiresAt).format("MMMM D, YYYY")+"")&&C(l,n)},d(r){r&&m(a)}}}function F(i){let a,e=i[0].active&&D(i);return{c(){e&&e.c(),a=$()},l(t){e&&e.l(t),a=$()},m(t,n){e&&e.m(t,n),d(t,a,n)},p(t,[n]){t[0].active?e?e.p(t,n):(e=D(t),e.c(),e.m(a.parentNode,a)):e&&(e.d(1),e=null)},i:v,o:v,d(t){e&&e.d(t),t&&m(a)}}}function N(i,a,e){let t;w(i,A,r=>e(0,t=r));let n={key:null,active:!1,expired:!1,expiresAt:null,lastCheckedAtTimestamp:null};function l(){localStorage.removeItem("license"),A.set(n)}const s=15*60*1e3;return t.active&&Date.now()-t.lastValidatedAtTimestamp>s&&B(t.key),[t,l,()=>l()]}class O extends E{constructor(a){super(),L(this,a,N,F,g,{})}}function z(i){let a,e,t;const n=i[1].default,l=S(n,i,i[0],null);return e=new O({}),{c(){l&&l.c(),a=I(),V(e.$$.fragment)},l(s){l&&l.l(s),a=T(s),q(e.$$.fragment,s)},m(s,o){l&&l.m(s,o),d(s,a,o),G(e,s,o),t=!0},p(s,[o]){l&&l.p&&(!t||o&1)&&K(l,n,s,s[0],t?R(n,s[0],o,null):P(s[0]),null)},i(s){t||(b(l,s),b(e.$$.fragment,s),t=!0)},o(s){x(l,s),x(e.$$.fragment,s),t=!1},d(s){l&&l.d(s),s&&m(a),j(e,s)}}}function H(i,a,e){let{$$slots:t={},$$scope:n}=a;return i.$$set=l=>{"$$scope"in l&&e(0,n=l.$$scope)},[n,t]}class X extends E{constructor(a){super(),L(this,a,H,z,g,{})}}export{X as default};
